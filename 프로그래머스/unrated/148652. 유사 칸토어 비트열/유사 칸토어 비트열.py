def f(n,k):
    if n==1:
        return k if k<=2 else k-1
    
    div = 5**(n-1) # 5
    mul = 4**(n-1) 
    loc = k//div # 2
    
    if k%div==0:
        loc-=1
    
    if loc <2: # 11/0/11
        return mul*loc + f(n-1,k-loc*div) # f(1,3)
    elif loc == 2: 
        return mul*loc
    else:
        return mul*(loc-1) + f(n-1,k-loc*div) # f(1,2)

def solution(n, l, r):
    answer = 0
    answer = f(n,r) - f(n,l-1)
    #           17          3
    # print(f(n,r))
    # print(f(n,l-1))
    return answer

"""
0 - 1 (1)
    1 (1)
1 - 11011 (5)
    12234 (4)
2 - 11011 11011 00000 11011 11011 (25)
    12234 56678 88888 910101112 1314141516 (16)
3 - 11011 11011 00000 11011 11011 / 11011 11011 00000 11011 11011 / 00000 00000 00000 00000 00000 / 11011 11011 00000 11011 11011 / 11011 11011 00000 11011 11011 (125)
                               16                              32                              32                              48                                 (64 == 4**3)
                             22(14)                                                                                89(40)
4 - 64 / 64 / 0 / 64 / 64 (256 == 4**4)
n    - (5**n)
last - (4**n)

"""